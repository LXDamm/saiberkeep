<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
  <title>Saiberkeep</title>
</head>

<body>
  <button id="sync-button">initate implant/card sync</button>
  <p id="nfc-status"></p>
  <script type="module">
    'use strict';

    import App from './app.js';

    const nfcStatusElm = document.getElementById('nfc-status');

    if ('NDEFReader' in window) {
      try {
        const ndef = new NDEFReader();
        const textDecoder = new TextDecoder('text');
        const app = new App(ndef, textDecoder);
        app.run();
      } catch (error) {
        nfcStatusElm.innerText = 'Error: ' + error;
      }
    } else {
      nfcStatusElm.innerText = 'No NFC support, try a Android phone with NFC enabled and running latest Chrome Android';
    }
  </script>
</body>

</html>